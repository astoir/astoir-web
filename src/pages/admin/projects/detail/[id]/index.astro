---
import AdminOnly from "~components/Auth/AdminOnly";
import ProjectDetail from "~layouts/projects/ProjectDetail.astro";
import { getProjects } from "~utils/getProjects";
import Layout from "~layouts/BaseLayout.astro";
export async function getStaticPaths() {
  const projects = await getProjects();

  const postResult = projects.map(project => ({
    params: { id: project.id },
    props: { project },
  }));

  return postResult;
}

const { project } = Astro.props;
---

<Layout title="프로젝트 상세">
  <AdminOnly client:load>
    <ProjectDetail project={project} isAdmin={true} />
  </AdminOnly>
</Layout>
